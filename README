	 ids.storage_hzb - An IDS storage plugin for the HZB
	 ---------------------------------------------------

This is an IDS storage plugin adapted to the needs of HZB.  For the
moment, it is in an experimental stage.  It is mostly used to explore
the IDS and to try out how IDS storage plugins can be customized.

* Installation

ids.storage_hzb is based on ids.storage_file 1.3.0.  There is no
binary release, you need to build the distribution from the sources.
Once this is done, the original install instructions for
ids.storage_file mostly applies to ids.storage_hzb as well, see

General installation instructions at
http://icatproject.org/installation/component

Specific installation instructions for ids.storage_file 1.3.0 at
http://icatproject.org/mvn/site/ids/storage_file/1.3.0/installation.html

There are a few additional configuration options in
ids.storage_hzb.main.properties though, see the comments in the file.

* Release notes

** Version 0.3.2 (2015-03-05)

Bugfixes:

 + Must not lock directories in external storage areas.

 + Create the directory lock file in the parent directory rather then
   in the directory itself.

** Version 0.3.1 (2015-02-27)

Do not check the existence of dataset directories in external storage
areas, rather assume them always to exist, e.g. always return true.
This removes any semantic from the location attribute in Dataset other
then the presence of a storage area prefix, e.g. for Dataset, the
location does not need to be an existing file or directory.

** Version 0.3.0 (2015-02-26)

Implement locking of dataset directories in the main storage.

** Version 0.2.0 (2015-02-20)

Implement external storage areas.  A prefix on the location of
Datasets and Datafiles determines whether it is to be searched in an
external storage area or not.  These external storage area are
accessed read-only.

** Version 0.1.0 (2015-01-23)

Basically a customized version of ids.storage_file.  Originally
derived from ids.storage_file 1.2.0, later ported to IDS 1.3.0.

Features:

 + Customized, meaningful file names in the storage.  The file name
   layout is <storage-root>/<facility>/<prefix>/<inv-name>/<visit-id>/
   <dataset-name>/<datafile-name> where <prefix> corresponds to the
   facility cycle and is derived from the investigation name
   <inv-name>.

 + Check the location argument in the callbacks for consistency to
   work around a vulnerability in IDS.

 + Acquire a shared file lock when reading the ZIP file from archive
   storage.  This makes it possible for third party tools to upload
   files to the IDS by directly writing into archive without the risk
   of race conditions, provided that these third party tools use
   proper file locking and take some additional precautions.


# Local Variables:
# mode: org
# End:
